{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Vishesh/Desktop/Precily/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/Vishesh/Desktop/Precily/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{LOADING_DATA,POST_DATA,DELETE_DATA,STORE_DATA,FAILED}from'./ActionType';var data=[];var initalState={docs:[],loading:false,error:null};export var DataReducer=function DataReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initalState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case LOADING_DATA:return _objectSpread(_objectSpread({},state),{},{loading:true,error:null});case STORE_DATA:return{docs:action.payload,error:null,loading:false};case POST_DATA:var newData=action.payload;if(newData.id==''||newData.title==''||newData.body==null||newData.userId==''){return _objectSpread(_objectSpread({},state),{},{error:'all fields are required',loading:false});}console.log(\"newData\",newData);var oldIndex=state.docs.findIndex(function(doc){return doc.id==newData.id;});console.log(\"oldIndex\",oldIndex);if(oldIndex!=-1){state.docs[oldIndex].title=newData.title;state.docs[oldIndex].body=newData.body;state.docs[oldIndex].userId=newData.userId;return _objectSpread(_objectSpread({},state),{},{error:null,loading:false});}else{return _objectSpread(_objectSpread({},state),{},{docs:[].concat(_toConsumableArray(state.docs),[newData]),error:null,loading:false});}case DELETE_DATA:var _data=action.payload;var index=state.docs.indexOf(_data);state.docs.splice(index,1);return _objectSpread(_objectSpread({},state),{},{error:null,loading:false});case FAILED:return _objectSpread(_objectSpread({},state),{},{error:action.payload,loading:false});default:return state;}};export default DataReducer;","map":{"version":3,"sources":["C:/Users/Vishesh/Desktop/Precily/src/Redux/DataReducer.js"],"names":["LOADING_DATA","POST_DATA","DELETE_DATA","STORE_DATA","FAILED","data","initalState","docs","loading","error","DataReducer","state","action","type","payload","newData","id","title","body","userId","console","log","oldIndex","findIndex","doc","index","indexOf","splice"],"mappings":"qTAAA,OACCA,YADD,CAECC,SAFD,CAGCC,WAHD,CAICC,UAJD,CAKCC,MALD,KAMO,cANP,CAQA,GAAMC,CAAAA,IAAI,CAAG,EAAb,CAEA,GAAMC,CAAAA,WAAW,CAAG,CACnBC,IAAI,CAAE,EADa,CAEnBC,OAAO,CAAE,KAFU,CAGnBC,KAAK,CAAE,IAHY,CAApB,CAMA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAiC,IAAhCC,CAAAA,KAAgC,2DAAxBL,WAAwB,IAAXM,CAAAA,MAAW,2CAC3D,OAAQA,MAAM,CAACC,IAAf,EACC,IAAKb,CAAAA,YAAL,CACC,sCACIW,KADJ,MAECH,OAAO,CAAE,IAFV,CAGCC,KAAK,CAAE,IAHR,GAKD,IAAKN,CAAAA,UAAL,CACC,MAAO,CACNI,IAAI,CAAEK,MAAM,CAACE,OADP,CAENL,KAAK,CAAE,IAFD,CAGND,OAAO,CAAE,KAHH,CAAP,CAMD,IAAKP,CAAAA,SAAL,CACC,GAAMc,CAAAA,OAAO,CAAGH,MAAM,CAACE,OAAvB,CACA,GACCC,OAAO,CAACC,EAAR,EAAc,EAAd,EACAD,OAAO,CAACE,KAAR,EAAiB,EADjB,EAEAF,OAAO,CAACG,IAAR,EAAgB,IAFhB,EAGAH,OAAO,CAACI,MAAR,EAAkB,EAJnB,CAKE,CACD,sCACIR,KADJ,MAECF,KAAK,CAAE,yBAFR,CAGCD,OAAO,CAAE,KAHV,GAKA,CACDY,OAAO,CAACC,GAAR,WAAuBN,OAAvB,EACA,GAAMO,CAAAA,QAAQ,CAAGX,KAAK,CAACJ,IAAN,CAAWgB,SAAX,CAAqB,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACR,EAAJ,EAAUD,OAAO,CAACC,EAA3B,EAArB,CAAjB,CACAI,OAAO,CAACC,GAAR,YAAwBC,QAAxB,EACA,GAAIA,QAAQ,EAAI,CAAC,CAAjB,CAAoB,CACnBX,KAAK,CAACJ,IAAN,CAAWe,QAAX,EAAqBL,KAArB,CAA6BF,OAAO,CAACE,KAArC,CACAN,KAAK,CAACJ,IAAN,CAAWe,QAAX,EAAqBJ,IAArB,CAA4BH,OAAO,CAACG,IAApC,CACAP,KAAK,CAACJ,IAAN,CAAWe,QAAX,EAAqBH,MAArB,CAA8BJ,OAAO,CAACI,MAAtC,CACA,sCACIR,KADJ,MAECF,KAAK,CAAE,IAFR,CAGCD,OAAO,CAAE,KAHV,GAKA,CATD,IASO,CACN,sCACIG,KADJ,MAECJ,IAAI,8BAAMI,KAAK,CAACJ,IAAZ,GAAkBQ,OAAlB,EAFL,CAGCN,KAAK,CAAE,IAHR,CAICD,OAAO,CAAE,KAJV,GAMA,CAEF,IAAKN,CAAAA,WAAL,CACC,GAAMG,CAAAA,KAAI,CAAGO,MAAM,CAACE,OAApB,CACA,GAAMW,CAAAA,KAAK,CAAGd,KAAK,CAACJ,IAAN,CAAWmB,OAAX,CAAmBrB,KAAnB,CAAd,CAEAM,KAAK,CAACJ,IAAN,CAAWoB,MAAX,CAAkBF,KAAlB,CAAyB,CAAzB,EACA,sCACId,KADJ,MAECF,KAAK,CAAE,IAFR,CAGCD,OAAO,CAAE,KAHV,GAKD,IAAKJ,CAAAA,MAAL,CACC,sCACIO,KADJ,MAECF,KAAK,CAAEG,MAAM,CAACE,OAFf,CAGCN,OAAO,CAAE,KAHV,GAKD,QACC,MAAOG,CAAAA,KAAP,CAlEF,CAoEA,CArEM,CAuEP,cAAeD,CAAAA,WAAf","sourcesContent":["import {\n\tLOADING_DATA,\n\tPOST_DATA,\n\tDELETE_DATA,\n\tSTORE_DATA,\n\tFAILED,\n} from './ActionType';\n\nconst data = [];\n\nconst initalState = {\n\tdocs: [],\n\tloading: false,\n\terror: null,\n};\n\nexport const DataReducer = (state = initalState, action) => {\n\tswitch (action.type) {\n\t\tcase LOADING_DATA:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tcase STORE_DATA:\n\t\t\treturn {\n\t\t\t\tdocs: action.payload,\n\t\t\t\terror: null,\n\t\t\t\tloading: false,\n\t\t\t};\n\n\t\tcase POST_DATA:\n\t\t\tconst newData = action.payload;\n\t\t\tif (\n\t\t\t\tnewData.id == '' ||\n\t\t\t\tnewData.title == '' ||\n\t\t\t\tnewData.body == null ||\n\t\t\t\tnewData.userId == ''\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\terror: 'all fields are required',\n\t\t\t\t\tloading: false,\n\t\t\t\t};\n\t\t\t}\n\t\t\tconsole.log(`newData`, newData);\n\t\t\tconst oldIndex = state.docs.findIndex((doc) => doc.id == newData.id);\n\t\t\tconsole.log(`oldIndex`, oldIndex);\n\t\t\tif (oldIndex != -1) {\n\t\t\t\tstate.docs[oldIndex].title = newData.title;\n\t\t\t\tstate.docs[oldIndex].body = newData.body;\n\t\t\t\tstate.docs[oldIndex].userId = newData.userId;\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\terror: null,\n\t\t\t\t\tloading: false,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tdocs: [...state.docs, newData],\n\t\t\t\t\terror: null,\n\t\t\t\t\tloading: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\tcase DELETE_DATA:\n\t\t\tconst data = action.payload;\n\t\t\tconst index = state.docs.indexOf(data);\n\n\t\t\tstate.docs.splice(index, 1);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: null,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\tcase FAILED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.payload,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default DataReducer;\n"]},"metadata":{},"sourceType":"module"}